{"version":3,"file":"components.js","sources":["../src/components/modal/index.js","../src/components/message/index.js","../src/components/common/mask.js","../src/components/common/draggable.js","../src/components/modal/modal.vue","../src/components/message/Message.vue","../src/index.js"],"sourcesContent":["import modalbase from './modal.vue'\r\nlet ModalConstructor = Vue.extend(modalbase)\r\nlet modals = {}\r\n/**\r\n * create modal\r\n * @function modal\r\n * @memberof WebApi\r\n * @param {Object} options - 弹框参数对象\r\n * @param {string} options.name - 窗体名称\r\n * @param {string} options.title - 标题\r\n * @param {number} options.width - 宽度\r\n * @param {number} options.height - 高\r\n * @param {number} options.titleHeight - 标题高\r\n * @param {boolean} options.draggable - 是否可拖拽\r\n * @param {object} options.padding - 边距\r\n * @param {number} options.padding.top - 上边距\r\n * @param {number} options.padding.right - 右边距\r\n * @param {number} options.padding.bottom - 下边距\r\n * @param {number} options.padding.left - 左边距\r\n * @param {object} options.offset - iframe偏移属性\r\n * @param {number} options.offset.left - ifrmae左偏移\r\n * @param {number} options.offset.top - iframe上偏移\r\n * @param {number} options.borderRadius - 圆角\r\n * @param {number} options.closeIconSize - 关闭按钮尺寸\r\n * @param {string} options.background - 背景\r\n * @param {string} options.backgroundImage - 中间框背景\r\n * @param {string} options.src - 地址\r\n * @return {promise} promise - promise.then(resolve,reject)\r\n */\r\nfunction ModalFactory (options = {}) {\r\n  let instance\r\n  let defaultOptions = _.defaultsDeep(options, {\r\n    name: Math.round(Math.random() * 1000),\r\n    title: '',\r\n    width: document.documentElement.offsetWidth,\r\n    height: document.documentElement.offsetHeight,\r\n    titleHeight: 60,\r\n    draggable: true,\r\n    padding: {\r\n      top: 0,\r\n      right: 0,\r\n      bottom: 0,\r\n      left: 0\r\n    },\r\n    offset: {\r\n      top: 0,\r\n      left: 0\r\n    },\r\n    closeIconSize: 20,\r\n    borderRadius: 8,\r\n    background: 'rgba(255,255,255,1)',\r\n    backgroundImage: 'rgba(255,255,255,1)',\r\n    src: '',\r\n    titleAlign: 'center'\r\n  })\r\n  if (modals[defaultOptions.name]) {\r\n    console.error('已存在相同命名的弹框 ' + defaultOptions.name)\r\n  }\r\n  instance = new ModalConstructor({\r\n    el: document.createElement('div'),\r\n    propsData: defaultOptions\r\n  })\r\n\r\n  if (options.el) {\r\n    instance.placeholder = document.createElement('div')\r\n    instance.placeholder.id = 'placeholder-' + instance._uid\r\n    options\r\n      .el\r\n      .parentNode\r\n      .insertBefore(instance.placeholder, options.el)\r\n    instance\r\n      .$refs\r\n      .contentElement\r\n      .appendChild(options.el)\r\n    options.el.style.display = 'block'\r\n  }\r\n\r\n  document\r\n    .body\r\n    .appendChild(instance.$el)\r\n\r\n  modals[defaultOptions.name] = instance\r\n  return new Promise(function (resolve, reject) {\r\n    instance\r\n      .open()\r\n      .then(function (cmd) {\r\n        instance\r\n          .$el\r\n          .parentNode\r\n          .removeChild(instance.$el)\r\n        if (instance.placeholder) {\r\n          var content = instance.$refs.contentElement.children[0]\r\n          content.style.display = 'none'\r\n          instance\r\n            .placeholder\r\n            .parentNode\r\n            .insertBefore(content, instance.placeholder)\r\n          instance\r\n            .placeholder\r\n            .parentNode\r\n            .removeChild(instance.placeholder)\r\n        }\r\n        instance.$destroy()\r\n        delete modals[defaultOptions.name]\r\n        resolve(cmd)\r\n      })\r\n  })\r\n}\r\n\r\n/**\r\n * close all/single modal\r\n * @function close\r\n * @memberof WebApi\r\n * @param {object/string} options/cmd - 参数对象(当为对象且含name时,将对指定name窗体进行关闭)\r\n * @param {string} options.name - 窗体名称\r\n * @param {any} options.cmd - 返回参数\r\n */\r\nexport function close (options) {\r\n  if (options && options.name) {\r\n    modals[options.name].close(options.cmd || '')\r\n  } else {\r\n    _\r\n      .forEach(modals, function (value, key) {\r\n        modals[key].close(options || undefined)\r\n      })\r\n  }\r\n}\r\n\r\nexport const Modal = ModalFactory\r\n","import messageBase from './Message.vue'\r\nlet MessageConstructor = Vue.extend(messageBase)\r\nlet alerts = {}\r\n\r\n/**\r\n * alert message\r\n * @function alert\r\n * @memberof WebApi\r\n * @param {Object/String} options - alert参数对象/消息\r\n * @param {string} options.title - 标题\r\n * @param {number} options.width - 宽度\r\n * @param {number} options.height - 高\r\n * @param {number} options.titleHeight - 标题高\r\n * @param {string} options.background - 背景\r\n * @param {number} options.message - 消息内容\r\n * @param {number} options.borderRadius - 圆角\r\n * @param {number} options.bottomHeight - 底部按钮框高度\r\n * @return {promise} promise - promise.then(resolve,reject)\r\n */\r\nfunction AlertFactory (options = {}) {\r\n  let instance\r\n  let defaultOptions = _.defaultsDeep(_.isPlainObject(options)\r\n    ? options\r\n    : {\r\n      message: options\r\n    }, {\r\n      name: Math.round(Math.random() * 1000),\r\n      message: '',\r\n      title: '消息',\r\n      width: 400,\r\n      height: 200,\r\n      background: 'white',\r\n      titleHeight: 60,\r\n      bottomHeight: 60,\r\n      borderRadius: 8\r\n    })\r\n  instance = new MessageConstructor({\r\n    el: document.createElement('div'),\r\n    propsData: defaultOptions\r\n  })\r\n  document\r\n    .body\r\n    .appendChild(instance.$el)\r\n  alerts[defaultOptions.name] = instance\r\n\r\n  return new Promise(function (resolve, reject) {\r\n    instance\r\n      .open()\r\n      .then(function (cmd) {\r\n        instance\r\n          .$el\r\n          .parentNode\r\n          .removeChild(instance.$el)\r\n        instance.$destroy()\r\n        delete alerts[defaultOptions.name]\r\n        resolve(cmd)\r\n      })\r\n  })\r\n}\r\n\r\n/**\r\n * confirm message\r\n * @function confirm\r\n * @memberof WebApi\r\n * @param {Object/String} options - confirm参数对象/消息\r\n * @param {string} options.title - 标题\r\n * @param {number} options.width - 宽度\r\n * @param {number} options.height - 高\r\n * @param {number} options.message - 消息内容\r\n * @param {number} options.bottomHeight - 底部按钮框高度\r\n * @param {number} options.titleHeight - 标题高\r\n * @param {string} options.background - 背景\r\n * @param {number} options.borderRadius - 圆角\r\n * @return {promise} promise - promise.then(resolve,reject)\r\n */\r\nfunction ConfirmFactory (options = {}) {\r\n  let instance\r\n  let defaultOptions = _.assign({\r\n    name: Math.round(Math.random() * 1000),\r\n    message: '',\r\n    title: '消息',\r\n    width: 400,\r\n    height: 200,\r\n    background: 'white',\r\n    titleHeight: 60,\r\n    bottomHeight: 60,\r\n    borderRadius: 8,\r\n    buttons: [\r\n      {\r\n        cls: 'sure',\r\n        cmd: 'sure',\r\n        txt: '确认'\r\n      }, {\r\n        cls: 'cancel',\r\n        cmd: 'cancel',\r\n        txt: '取消'\r\n      }\r\n    ]\r\n  }, _.isPlainObject(options)\r\n    ? options\r\n    : {\r\n      message: options\r\n    })\r\n  instance = new MessageConstructor({\r\n    el: document.createElement('div'),\r\n    propsData: defaultOptions\r\n  })\r\n  document\r\n    .body\r\n    .appendChild(instance.$el)\r\n  alerts[defaultOptions.name] = instance\r\n\r\n  return new Promise(function (resolve, reject) {\r\n    instance\r\n      .open()\r\n      .then(function (cmd) {\r\n        instance\r\n          .$el\r\n          .parentNode\r\n          .removeChild(instance.$el)\r\n        instance.$destroy()\r\n        delete alerts[defaultOptions.name]\r\n        resolve(cmd)\r\n      })\r\n  })\r\n}\r\n\r\nexport const Alert = AlertFactory\r\nexport const Confirm = ConfirmFactory\r\n","export let maskManager = {\r\n  zIndex: 5000,\r\n  masks: [],\r\n  mask: null,\r\n  setDom () {\r\n    if (!this.mask) {\r\n      this.mask = document.createElement('div')\r\n      this.mask.className = 'vue-mask'\r\n    }\r\n    if (document.querySelector('.vue-mask') == null) {\r\n      document\r\n        .body\r\n        .appendChild(this.mask)\r\n    }\r\n    this.mask.style.zIndex = this.zIndex + this.masks.length * 2 - 1\r\n  },\r\n  setIndex (el, state) {\r\n    if (el.style) {\r\n      el.style.zIndex = this.zIndex + this.masks.length * 2 - (state\r\n        ? 1\r\n        : 0)\r\n    }\r\n  },\r\n  create (o) {\r\n    this.setDom()\r\n    this\r\n      .masks\r\n      .push(o._uid)\r\n    this.setIndex(this.mask, true)\r\n    this.setIndex(o.$el)\r\n  },\r\n  remove (o) {\r\n    this\r\n      .masks\r\n      .splice(_.chain(this.masks).findIndex(o => o.id === o._uid).value(), 1)\r\n    if (this.masks.length !== 0) {\r\n      this.setIndex(this.mask, true)\r\n    } else {\r\n      this\r\n        .mask\r\n        .parentNode\r\n        .removeChild(this.mask)\r\n    }\r\n  }\r\n}\r\nexport default {\r\n  data () {\r\n    return {visible: false, zIndex: 0}\r\n  },\r\n  beforeDestroy () {\r\n    this.$emit('beforeDestroy')\r\n  },\r\n  methods: {\r\n    open () {\r\n      return new Promise((resolve, reject) => {\r\n        var handler = () => {\r\n          this.visible = true\r\n          this.resolve = resolve\r\n          this.reject = reject\r\n          maskManager.create(this)\r\n          if (this.afterOpen) {\r\n            this.afterOpen()\r\n          }\r\n        }\r\n        if (this.beforeOpen) {\r\n          this\r\n            .beforeOpen()\r\n            .then(handler)\r\n        } else {\r\n          handler()\r\n        }\r\n      })\r\n    },\r\n    close (cmd) {\r\n      var handler = () => {\r\n        this.visible = false\r\n        maskManager.remove(this)\r\n        var end = () => {\r\n          this.resolve(cmd)\r\n        }\r\n        if (this.afterClose) {\r\n          this\r\n            .afterClose()\r\n            .then(end)\r\n        } else {\r\n          end()\r\n        }\r\n      }\r\n      if (this.beforeClose) {\r\n        this\r\n          .beforeClose()\r\n          .then(handler)\r\n      } else {\r\n        handler()\r\n      }\r\n    }\r\n  }\r\n}\r\n","let isdragging = false\r\n// import Vue from 'vue';\r\n\r\nconst supportTouch = 'ontouchstart' in window\r\n\r\nexport default function (element, options) {\r\n  const moveFn = function (event) {\r\n    if (options.drag) {\r\n      options.drag(supportTouch\r\n        ? event.changedTouches[0] || event.touches[0]\r\n        : event)\r\n    }\r\n  }\r\n\r\n  const endFn = function (event) {\r\n    if (!supportTouch) {\r\n      document.removeEventListener('mousemove', moveFn)\r\n      document.removeEventListener('mouseup', endFn)\r\n    }\r\n    document.onselectstart = null\r\n    document.ondragstart = null\r\n\r\n    isdragging = false\r\n\r\n    if (options.end) {\r\n      options.end(supportTouch\r\n        ? event.changedTouches[0] || event.touches[0]\r\n        : event)\r\n    }\r\n  }\r\n\r\n  element.addEventListener(supportTouch\r\n    ? 'touchstart'\r\n    : 'mousedown', function (event) {\r\n    if (isdragging) {\r\n      return\r\n    }\r\n    document.onselectstart = function () {\r\n      return false\r\n    }\r\n    document.ondragstart = function () {\r\n      return false\r\n    }\r\n\r\n    if (!supportTouch) {\r\n      document.addEventListener('mousemove', moveFn)\r\n      document.addEventListener('mouseup', endFn)\r\n    }\r\n\r\n    isdragging = true\r\n\r\n    if (options.start) {\r\n      event.preventDefault()\r\n      if (options.start(supportTouch\r\n        ? event.changedTouches[0] || event.touches[0]\r\n        : event) === false) {\r\n        isdragging = false\r\n        if (!supportTouch) {\r\n          document.removeEventListener('mousemove', moveFn)\r\n          document.removeEventListener('mouseup', endFn)\r\n        }\r\n        document.onselectstart = null\r\n        document.ondragstart = null\r\n      }\r\n    }\r\n  })\r\n\r\n  if (supportTouch) {\r\n    element.addEventListener('touchmove', moveFn)\r\n    element.addEventListener('touchend', endFn)\r\n    element.addEventListener('touchcancel', endFn)\r\n  }\r\n};\r\n","<template>\r\n  <div class=\"vue-modal\">\r\n    <div class=\"vue-modal-container\"\r\n         :style=\"styleContainer\">\r\n      <div class=\"vue-modal-content-background\"\r\n           :style=\"contentBackground\">\r\n        <div class=\"vue-modal-title\"\r\n             :style=\"styleTitle\"\r\n             ref=\"title\">\r\n          {{ title }}\r\n          <a href=\"javascript:;\"\r\n             :style=\"styleTitleClose\"\r\n             @click=\"close\"></a>\r\n        </div>\r\n        <div class=\"vue-modal-status\"\r\n             :style=\"styleContent\"\r\n             v-show=\"moving\">\r\n          <svg t=\"1493353365923\"\r\n               class=\"icon\"\r\n               style=\"\"\r\n               viewBox=\"0 0 1025 1024\"\r\n               version=\"1.1\"\r\n               xmlns=\"http://www.w3.org/2000/svg\"\r\n               p-id=\"5966\"\r\n               xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n               height=\"20%\"\r\n               fill=\"rgba(0,0,0,.1)\">\r\n            <defs>\r\n              <style type=\"text/css\"></style>\r\n            </defs>\r\n            <path d=\"M507.723027 639.47369C576.326639 639.47369 638.176327 582.659169 638.176327 512.574903 638.176327 442.490637 576.326639 385.676112 507.723027 385.676112 439.119415 385.676112 383.505198 442.490635 383.505198 512.574901 383.505198 582.659166 439.119415 639.47369 507.723027 639.47369Z\"\r\n                  p-id=\"5967\"></path>\r\n            <path d=\"M333.10379 257.010049C320.464977 242.392432 318.039349 213.583993 330.933492 198.647214L482.381569 11.362984C495.339544-3.637628 516.021238-3.829125 528.91538 11.043822L690.840233 199.413203C703.734375 214.03082 703.734375 242.137102 690.840233 257.010049L333.10379 257.010049Z\"\r\n                  p-id=\"5968\"></path>\r\n            <path d=\"M691.23233 771.300256C703.998808 782.024097 703.871143 804.480415 691.23233 815.204256L531.213346 1013.339991C518.255371 1024 497.701342 1024 484.934864 1013.339991L333.955618 815.204256C321.18914 804.480415 321.18914 782.151762 333.955618 771.427921L691.23233 771.300256Z\"\r\n                  p-id=\"5969\"></path>\r\n            <path d=\"M825.863653 338.950803 1013.147882 486.148292C1028.084661 499.553093 1028.33999 521.319938 1013.530876 534.660907L825.352994 688.560797C810.799209 701.774101 783.580025 702.029431 768.770911 688.560797L768.770911 338.567816C768.770911 338.567816 810.990706 325.546001 825.863653 338.950803Z\"\r\n                  p-id=\"5970\"></path>\r\n            <path d=\"M256.661324 691.369415C242.043707 704.710385 212.753558 704.582726 198.135941 691.369422L10.979377 534.405578C-3.702072 520.936944-3.702072 499.361596 11.234707 485.892962L196.859294 335.440022C211.476911 322.226717 241.979878 322.099048 256.661328 335.440017L256.661324 691.369415Z\"\r\n                  p-id=\"5971\"></path>\r\n          </svg>\r\n        </div>\r\n        <div class=\"vue-modal-content\"\r\n             v-if=\"src!=''\"\r\n             v-show=\"!moving\"\r\n             :style=\"styleContent\"\r\n             ref=\"contentIframe\">\r\n          <iframe :src=\"src\"\r\n                  frameborder=\"0\"\r\n                  :style=\"iframeStyle\"></iframe>\r\n        </div>\r\n        <div class=\"vue-modal-content content-element\"\r\n             v-if=\"src==''\"\r\n             v-show=\"!moving\"\r\n             :style=\"styleContent\"\r\n             ref=\"contentElement\">\r\n          <slot></slot>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"vue-modal-background\"></div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport mask from '../common/mask.js'\r\nimport draggable from '../common/draggable.js'\r\nexport default {\r\n  mixins: [mask],\r\n  data () {\r\n    return {\r\n      distance: 10,\r\n      offsetLeft: 0,\r\n      offsetTop: 0,\r\n      baseWidth: 50,\r\n      baseHeight: 50,\r\n      screenWidth: 0,\r\n      screenHeight: 0,\r\n      closeIconMinSize: 20,\r\n      moving: false,\r\n      moveOffset: {\r\n        x: 0,\r\n        y: 0\r\n      },\r\n      defaultWidth: 0,\r\n      defaultHeight: 0\r\n    }\r\n  },\r\n\r\n  props: {\r\n    title: String,\r\n    width: Number,\r\n    height: Number,\r\n    padding: {\r\n      type: Object,\r\n      default () {\r\n        return {\r\n          top: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          left: 0\r\n        }\r\n      }\r\n    },\r\n    borderRadius: {\r\n      type: Number,\r\n      default: 8\r\n    },\r\n    draggable: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    offset: {\r\n      type: Object,\r\n      default: function () {\r\n        return {\r\n          left: 0,\r\n          top: 0\r\n        }\r\n      }\r\n    },\r\n    titleHeight: {\r\n      type: Number,\r\n      default: 60\r\n    },\r\n    titleAlign: {\r\n      type: String,\r\n      default: 'left'\r\n    },\r\n    closeIconSize: {\r\n      type: Number,\r\n      default: 20\r\n    },\r\n    background: {\r\n      default: 'white',\r\n      type: String\r\n    },\r\n    backgroundImage: {\r\n      default: 'white',\r\n      type: String\r\n    },\r\n    src: {\r\n      default: 'about:blank;',\r\n      type: String\r\n    }\r\n  },\r\n\r\n  created () {\r\n    this.closeIconSize = (this.closeIconSize < this.closeIconMinSize ? this.closeIconSize : this.closeIconMinSize)\r\n    this.defaultWidth = this.width\r\n    this.defaultHeight = this.height\r\n  },\r\n  mounted () {\r\n    if (this.draggable) this.$nextTick(() => this.bindMove(this.$refs.title))\r\n    this.resizeEvt = 'orientationchange' in window\r\n      ? 'orientationchange'\r\n      : 'resize'\r\n    this.svgResizeHandler = this.svgResize.bind(this)\r\n    window.addEventListener(this.resizeEvt, this.svgResizeHandler, false)\r\n  },\r\n  beforeDestroy () {\r\n    window.removeEventListener(this.resizeEvt, this.svgResizeHandler)\r\n  },\r\n  computed: {\r\n    styleTitleClose () {\r\n      let w = this.closeIconSize\r\n      let d = (this.titleHeight - this.closeIconSize) / 2\r\n      return {\r\n        height: w + 'px',\r\n        width: w + 'px',\r\n        top: d + 'px',\r\n        right: d + 'px'\r\n      }\r\n    },\r\n    contentBackground () {\r\n      return {\r\n        backgroundImage: this.backgroundImage\r\n      }\r\n    },\r\n    iframeStyle () {\r\n      return {\r\n        width: this.width - this.offset.left - this.padding.left - this.padding.right + 'px',\r\n        height: this.height - this.titleHeight - this.offset.top - this.padding.top - this.padding.bottom + 'px',\r\n        marginLeft: this.offset.left + 'px',\r\n        marginTop: this.offset.top + 'px'\r\n      }\r\n    },\r\n    styleTitle () {\r\n      return {\r\n        height: this.titleHeight + 'px',\r\n        // width: this.width + 'px',\r\n        paddingRight: this.titleHeight + 'px',\r\n        lineHeight: this.titleHeight + 'px',\r\n        textAlign: this.titleAlign,\r\n        paddingLeft: (this.titleAlign === 'center' ? this.titleHeight : 30) + 'px'\r\n      }\r\n    },\r\n    styleContent () {\r\n      return {\r\n        height: this.height - this.titleHeight - this.padding.top - this.padding.bottom + 'px',\r\n        width: this.width - this.padding.left - this.padding.right + 'px'\r\n      }\r\n    },\r\n    styleContainer () {\r\n      return {\r\n        height: this.height + 'px',\r\n        width: this.width + 'px',\r\n        marginLeft: (-this.width / 2 + this.moveOffset.x) + 'px',\r\n        marginTop: (-this.height / 2 + this.moveOffset.y) - this.topOffset + 'px',\r\n        paddingTop: this.padding.top + 'px',\r\n        paddingRight: this.padding.right + 'px',\r\n        paddingBottom: this.padding.bottom + 'px',\r\n        paddingLeft: this.padding.left + 'px'\r\n      }\r\n    },\r\n    runtimeWidth () {\r\n      return this.width\r\n    },\r\n    runtimeHeight () {\r\n      return this.height\r\n    },\r\n    topOffset () {\r\n      var offset = this.screenHeight * 0.1\r\n      return (this.screenHeight - this.height) / 2 - offset < 0 ? 0 : offset\r\n    }\r\n  },\r\n  methods: {\r\n    gPath (width, height, normal, outer) {\r\n      var wd = (width - 2 * this.borderRadius) / 3\r\n      var hd = (height - 2 * this.borderRadius) / 3\r\n      var d = normal ? 0 : ((outer ? -1 : 1) * this.distance)\r\n      var dd = -1 * d\r\n      return `M${(this.screenWidth - width) / 2} ${((this.screenHeight - height) / 2 - this.topOffset + this.borderRadius)}` +\r\n        `q0,${-this.borderRadius} ${this.borderRadius},${-this.borderRadius}` +\r\n        `c${wd},${d} ${wd * 2},${d} ${wd * 3},0` +\r\n        `q${this.borderRadius},0 ${this.borderRadius},${this.borderRadius}` +\r\n        `c${dd},${hd}, ${dd},${hd * 2} ,0,${hd * 3}` +\r\n        `q0,${this.borderRadius} ${-this.borderRadius},${this.borderRadius}` +\r\n        `c-${wd},${dd} -${wd * 2},${dd} -${wd * 3},0` +\r\n        `q${-this.borderRadius},0 ${-this.borderRadius},${-this.borderRadius}` +\r\n        `c${d},-${hd} ${d},-${hd * 2}, 0,-${hd * 3}`\r\n    },\r\n    svgResize () {\r\n      debugger\r\n      var el = this.$el.querySelector('.vue-modal-background')\r\n      if (el.offsetWidth <= this.defaultWidth || el.offsetHeight <= this.defaultHeight) {\r\n        if (el.offsetWidth <= this.defaultWidth) this.width = el.offsetWidth; else this.width = this.defaultWidth\r\n        if (el.offsetHeight <= this.defaultHeight) this.height = el.offsetHeight; else this.height = this.defaultHeight\r\n      } else {\r\n        this.width = this.defaultWidth\r\n        this.height = this.defaultHeight\r\n      }\r\n      this.screenWidth = el.offsetWidth\r\n      this.screenHeight = el.offsetHeight\r\n      this.svg\r\n        .attr('width', this.screenWidth)\r\n        .attr('height', this.screenHeight)\r\n      this.path\r\n        .attr('d', this.gPath(this.runtimeWidth, this.runtimeHeight, true))\r\n    },\r\n    svgAnimateStart () {\r\n      var el = this.$el.querySelector('.vue-modal-background')\r\n      this.screenWidth = el.offsetWidth\r\n      this.screenHeight = el.offsetHeight\r\n      this.svg = window.d3.select(el).append('svg')\r\n        .attr('width', this.screenWidth)\r\n        .attr('height', this.screenHeight)\r\n      this.g = this.svg.append('g')\r\n      this.path = this.g.append('path')\r\n\r\n      this.path.attr('fill', this.background)\r\n        .attr('d', this.gPath(this.baseWidth, this.baseHeight, true))\r\n        .style('opacity', '0')\r\n        .transition()\r\n        .duration(100)\r\n        .attr('d', this.gPath(this.baseWidth, this.baseHeight, false, false))\r\n        .transition()\r\n        .delay(100)\r\n        .duration(200)\r\n        .ease(window.d3.easeExpIn)\r\n        // .duration(500)\r\n        // .ease(d3.easeElasticOut)\r\n        .style('opacity', '1')\r\n        .attr('d', this.gPath(this.runtimeWidth, this.runtimeHeight, true))\r\n      setTimeout(() => {\r\n        this.$el.className = 'vue-modal is-show'\r\n      }, 400)\r\n    },\r\n    svgAnimateEnd () {\r\n      return new Promise((resolve, reject) => {\r\n        this.path\r\n          .attr('d', this.gPath(this.runtimeWidth, this.runtimeHeight, true))\r\n          .transition()\r\n          .duration(100)\r\n          .attr('d', this.gPath(this.runtimeWidth, this.runtimeHeight, false, true))\r\n          .transition()\r\n          .delay(100)\r\n          .duration(200)\r\n          .ease(window.d3.easeExpOut)\r\n          .style('opacity', '0')\r\n          .attr('d', this.gPath(this.baseWidth, this.baseHeight, true))\r\n        setTimeout(() => {\r\n          resolve()\r\n        }, 300)\r\n      })\r\n    },\r\n    translateSVG () {\r\n      this.g.attr('transform', 'translate(' + this.moveOffset.x + ',' + this.moveOffset.y + ')')\r\n    },\r\n    afterOpen () {\r\n      return this.svgAnimateStart()\r\n    },\r\n    beforeClose () {\r\n      this.$el.className = 'vue-modal'\r\n      return this.svgAnimateEnd()\r\n    },\r\n    bindMove (el) {\r\n      var dx,\r\n        dy,\r\n        ox,\r\n        oy,\r\n        maxw,\r\n        maxh,\r\n        minw,\r\n        minh,\r\n        movetimes\r\n      if (!el) {\r\n        return\r\n      }\r\n      draggable(el, {\r\n        start: (e) => {\r\n          movetimes = 0\r\n          ox = this.moveOffset.x\r\n          oy = this.moveOffset.y\r\n          dx = e.pageX - ox\r\n          dy = e.pageY - oy\r\n          maxw = (document.documentElement.offsetWidth - this.width) / 2\r\n          maxh = (document.documentElement.offsetHeight - this.height) / 2\r\n          minw = -1 * maxw\r\n          minh = -1 * maxh\r\n        },\r\n        drag: (e) => {\r\n          if (movetimes > 1) {\r\n            this.moving = true\r\n            if (e.pageX - dx < minw) {\r\n              this.moveOffset.x = minw\r\n            } else if (e.pageX - dx > maxw) {\r\n              this.moveOffset.x = maxw\r\n            } else {\r\n              this.moveOffset.x = (e.pageX - dx)\r\n            }\r\n            if (e.pageY - dy < minh) {\r\n              this.moveOffset.y = minh\r\n            } else if (e.pageY - dy > maxh) {\r\n              this.moveOffset.y = maxh\r\n            } else {\r\n              this.moveOffset.y = (e.pageY - dy)\r\n            }\r\n            this.translateSVG()\r\n          } else {\r\n            movetimes++\r\n          }\r\n        },\r\n        end: () => {\r\n          this.moving = false\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"sass\">\r\n    html,\r\n    body{\r\n      height: 100%;\r\n      padding: 0;\r\n      margin: 0;\r\n    }\r\n    .vue-modal {\r\n        *{\r\n            box-sizing: border-box;   \r\n        }\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        .vue-modal-content-background{\r\n            background-position: 50%;\r\n            background-repeat: no-repeat;\r\n            background-size: cover;\r\n        }\r\n        .vue-modal-container{\r\n            position:absolute;\r\n            top: 50%;\r\n            left: 50%;\r\n            z-index: 1;\r\n        }\r\n        .vue-modal-title{\r\n            font-size: 18px;\r\n            position: relative;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n            white-space: nowrap;\r\n            color: #161616;\r\n            font-weight: bold;\r\n            a{\r\n                position: absolute;\r\n                transform: rotate3d(0,0,1,45deg) scale3d(0, 0, 0);\r\n                transition: transform .2s cubic-bezier(0.2,1,0.3,1); \r\n                &:before,&:after{\r\n                    content: '';\r\n                    background: #161616;\r\n                    position: absolute;\r\n                    left: 50%;\r\n                    top: 50%;\r\n                }\r\n                &:before{\r\n                    content: '';\r\n                    width: 140%;\r\n                    height: 2px;\r\n                    margin-left: -70%;\r\n                    margin-top: -1px;\r\n                }\r\n                &:after{\r\n                    height: 140%;\r\n                    width: 2px;\r\n                    margin-left: -1px;\r\n                    margin-top: -70%;\r\n                }\r\n            }\r\n        }\r\n        .vue-modal-status{\r\n            white-space: nowrap;\r\n            text-align: center;\r\n            &:before{\r\n                content: '';\r\n                height: 100%;\r\n                width: 1px;\r\n                display: inline-block;\r\n                vertical-align: middle;\r\n            }\r\n            svg{\r\n                display:inline-block;\r\n            }\r\n        }\r\n        .vue-modal-content{\r\n            overflow: hidden;\r\n        }\r\n        .vue-modal-content-background,\r\n        .vue-modal-title,\r\n        .vue-modal-content{\r\n            opacity: 0;\r\n            transition: opacity .2s ease-out;\r\n        }\r\n        &.is-show{\r\n            .vue-modal-title,\r\n            .vue-modal-content{\r\n                opacity: 1;\r\n            }\r\n            .vue-modal-content-background{\r\n                opacity: 1;\r\n            }\r\n            .vue-modal-title a{\r\n                transform: rotate3d(0,0,1,45deg) scale3d(1, 1, 1);\r\n            }\r\n        }\r\n        .vue-modal-background{\r\n            position:fixed;\r\n            top: 0;\r\n            left: 0;\r\n            right: 0;\r\n            bottom: 0;\r\n        }\r\n    }\r\n    .vue-mask {\r\n        position:fixed;\r\n        top: 0;\r\n        left:0;\r\n        bottom:0;\r\n        right:0;\r\n        background: black;\r\n        opacity: .1;\r\n    }\r\n</style>\r\n","<template>\r\n  <modal :title=\"title\"\r\n         :borderRadius=\"borderRadius\"\r\n         :titleHeight=\"titleHeight\"\r\n         :background=\"background\"\r\n         :width=\"width\"\r\n         :height=\"height\"\r\n         src=\"\"\r\n         ref=\"modal\">\r\n    <div class=\"vue-alert\">\r\n      <div class=\"vue-alert-message\"\r\n           :style=\"messageStyle\">\r\n        <table>\r\n          <tr>\r\n            <td>{{ message }}</td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n      <div class=\"vue-alert-button-panel\"\r\n           :style=\"buttonPanelStyle\">\r\n        <button v-for=\"button in buttons\"\r\n                @click=\"close(button.cmd)\"\r\n                :class=\"button.cls\"\r\n                v-text=\"button.txt\"></button>\r\n      </div>\r\n    </div>\r\n  </modal>\r\n</template>\r\n<script>\r\nimport modal from '../modal/modal.vue'\r\nexport default {\r\n\r\n  components: { modal },\r\n\r\n  props: {\r\n    title: String,\r\n    background: {\r\n      type: String,\r\n      default: 'white'\r\n    },\r\n    width: {\r\n      type: Number,\r\n      default: 400\r\n    },\r\n    height: {\r\n      type: Number,\r\n      default: 200\r\n    },\r\n    borderRadius: {\r\n      type: Number,\r\n      default: 8\r\n    },\r\n    titleHeight: {\r\n      type: Number,\r\n      default: 60\r\n    },\r\n    bottomHeight: {\r\n      type: Number,\r\n      default: 60\r\n    },\r\n    message: {\r\n      type: String,\r\n      default: '无消息!'\r\n    },\r\n    buttons: {\r\n      type: Array,\r\n      default () {\r\n        return [\r\n          { cls: 'sure', cmd: 'sure', txt: '确认' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    messageStyle () {\r\n      return {\r\n        height: this.height - this.titleHeight - this.bottomHeight + 'px'\r\n      }\r\n    },\r\n    buttonPanelStyle () {\r\n      return {\r\n        height: this.bottomHeight + 'px',\r\n        lineHeight: this.bottomHeight + 'px'\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    open () {\r\n      return this.$refs.modal.open()\r\n    },\r\n    close (cmd) {\r\n      this.$refs.modal.close(cmd)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"sass\">\r\n.vue-alert {\r\n    height: 100%;\r\n    position: relative;\r\n    .vue-alert-message {\r\n        table {\r\n            table-layout: fixed;\r\n            height: 100%;\r\n            width: 100%;\r\n            td {\r\n                padding: 0 20px;\r\n                text-indent: 32px;\r\n            }\r\n        }\r\n    }\r\n\r\n    .vue-alert-button-panel {\r\n        text-align: right;\r\n        padding: 0 20px;\r\n    }\r\n}\r\n</style>\r\n","import {Modal, close} from './components/modal'\r\nimport {Alert, Confirm} from './components/message'\r\n/**\r\n * @namespace {Object} WebApi\r\n */\r\n\r\nexport default {\r\n  modal: Modal,\r\n  close: close,\r\n  alert: Alert,\r\n  confirm: Confirm\r\n}\r\n"],"names":["ModalFactory","options","instance","defaultOptions","_","defaultsDeep","Math","round","random","document","documentElement","offsetWidth","offsetHeight","modals","name","error","ModalConstructor","createElement","el","placeholder","id","_uid","parentNode","insertBefore","$refs","contentElement","appendChild","style","display","body","$el","Promise","resolve","reject","open","then","cmd","removeChild","content","children","$destroy","close","forEach","value","key","undefined","AlertFactory","isPlainObject","MessageConstructor","alerts","ConfirmFactory","assign","maskManager","this","mask","className","querySelector","zIndex","masks","length","state","o","setDom","push","setIndex","splice","chain","findIndex","visible","$emit","handler","create","_this","afterOpen","beforeOpen","remove","end","_this2","afterClose","beforeClose","isdragging","supportTouch","window","element","moveFn","event","drag","changedTouches","touches","endFn","removeEventListener","onselectstart","ondragstart","addEventListener","start","preventDefault","String","Number","Object","Boolean","closeIconSize","closeIconMinSize","defaultWidth","width","defaultHeight","height","draggable","$nextTick","bindMove","title","resizeEvt","svgResizeHandler","svgResize","bind","w","d","titleHeight","backgroundImage","offset","left","padding","right","top","bottom","titleAlign","moveOffset","x","y","topOffset","screenHeight","normal","outer","wd","borderRadius","hd","distance","dd","screenWidth","svg","attr","path","gPath","runtimeWidth","runtimeHeight","d3","select","append","g","background","baseWidth","baseHeight","transition","duration","delay","ease","easeExpIn","_this3","easeExpOut","svgAnimateStart","svgAnimateEnd","dx","dy","ox","oy","maxw","maxh","minw","minh","movetimes","e","_this4","pageX","pageY","moving","translateSVG","Vue","extend","modalbase","Modal","modal","Array","cls","txt","bottomHeight","messageBase"],"mappings":"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"}